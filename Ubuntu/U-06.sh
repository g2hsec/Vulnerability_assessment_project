cat << EOF
===== [U-06] File and Directory Owner Settings               =====
=====                  Chaking...........               =====
EOF
echo "--------------------------------------------------------------------------" >> $target
echo "                        U-06   íŒŒì¼ ë° ë””ë ‰í„°ë¦¬ ì†Œìœ ì ì„¤ì •                        " >> $target
echo "--------------------------------------------------------------------------" >> $target
echo "++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++" >> $target
echo "ì ê²€ëª©ì  : ì†Œìœ ìê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íŒŒì¼ ë° ë””ë ‰í„°ë¦¬ë¥¼ ì‚­ì œ ë° ê´€ë¦¬í•˜ì—¬ ì„ì˜ì˜ ì‚¬ìš©ìê°€ í•´ë‹¹íŒŒì¼ì„ ì—´ëŒ, ìˆ˜ì •í•˜ëŠ” í–‰ìœ„ë¥¼ ì‚¬ì „ì— ì°¨ë‹¨í•˜ê¸° ìœ„í•¨" >> $target
echo "ë³´ì•ˆìœ„í˜‘ : ì†Œìœ ìê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íŒŒì¼ì˜ UIDì™€ ë™ì¼í•œ ê°’ìœ¼ë¡œ íŠ¹ì •ê³„ì •ì˜ UIDê°’ì„ ë³€ê²½í•˜ë©´ í•´ë‹¹ íŒŒì¼ì˜ ì†Œìœ ìê°€ ë˜ì–´ ëª¨ë“  ì‘ì—…ì´ ê°€ëŠ¥í•¨" >> $target
echo "+íŒë‹¨ê¸°ì¤€ ì–‘í˜¸ ğŸ”˜: ì†Œìœ ìê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íŒŒì¼ ë° ë””ë ‰í„°ë¦¬ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš°" >> $target
echo "+íŒë‹¨ê¸°ì¤€ ì·¨ì•½ ğŸš«: ì†Œìœ ìê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íŒŒì¼ ë° ë””ë ‰í„°ë¦¬ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš°" >> $target
echo "++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++" >> $target
echo "" >> $target
echo "-------------" >> $result
echo "U-6 ì ê²€ ê²°ê³¼" >> $result
u6=0
u6_safe_check=0
u6_Account_Management=0
echo "#ì†Œìœ ì ë˜ëŠ” ê·¸ë£¹ì´ ì—†ëŠ” íŒŒì¼ì€ íŒŒì¼ ì†ì„± í•´ë‹¹ í•„ë“œì— ìˆ«ìë¡œ í‘œì‹œë¨#" >> $target
declare -a u6_file_list
declare -a u6_dir_list

# find ëª…ë ¹ì–´ì˜ ì¶œë ¥ì„ ë°°ì—´ì— ì €ì¥
mapfile -t u6_noowner_lists < <(find / \( -nouser -o -nogroup \) -print 2> /dev/null)

# íŒŒì¼ ë° ë””ë ‰í„°ë¦¬ ê²½ë¡œë¥¼ ë¶„ë¦¬í•˜ì—¬ ë°°ì—´ì— ì €ì¥
for u6_noowner_list in "${u6_noowner_lists[@]}"; do
    if [[ -e "$u6_noowner_list" ]]; then
        if [[ -f "$u6_noowner_list" ]]; then
            u6_file_list+=("$u6_noowner_list")
        elif [[ -d "$u6_noowner_list" ]]; then
            u6_dir_list+=("$u6_noowner_list")
        fi
    fi
done

# íŒŒì¼ ëª©ë¡ì„ ì¶œë ¥
# #ì€ ë°°ì—´ì˜ ê¸¸ì´ë¥¼ ì–»ëŠ”ë° ì‚¬ìš©ë¨
if [[ ${#u6_file_list[@]} -gt 0 ]]; then
    u6_safe_check=$((u6_safe_check+1))
    u6_Account_Management=$((u6_Account_Management+1))
    echo "ì†Œìœ ìê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íŒŒì¼ ëª©ë¡:" >> "$target"
    for u6_file in "${u6_file_list[@]}"; do
        echo "íŒŒì¼: $u6_file" >> "$target"
        ls -l "$u6_file" >> "$target"
    done
else
    echo "ì†Œìœ ìê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤." >> "$target"
fi

# ë””ë ‰í„°ë¦¬ ëª©ë¡ì„ ì¶œë ¥
if [[ ${#u6_dir_list[@]} -gt 0 ]]; then
    u6_safe_check=$((u6_safe_check+1))
    u6_Account_Management=$((u6_Account_Management+1))
    echo "ì†Œìœ ìê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë””ë ‰í„°ë¦¬ ëª©ë¡:" >> "$target"
    for u6_dir in "${u6_dir_list[@]}"; do
        u6=$((u6 + 1))
        echo "ë””ë ‰í„°ë¦¬: $u6_dir" >> "$target"
        ls -ld "$u6_dir" >> "$target"
    done
else
    echo "ì†Œìœ ìê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë””ë ‰í„°ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤." >> "$target"
fi

if [ $u6_safe_check -ge 1 ];then
    u6=$((u6+1))
    echo "ì ê²€ ê²°ê³¼ : ì·¨ì•½" >> $result
else
    echo "ì ê²€ ê²°ê³¼ : ì–‘í˜¸" >> $result
fi
if [[ $u6 -ge 1 ]];then
    High=$((High+1))
    Account_Management=$((Account_Management+1))
    u6_Account_Management=1
fi
