cat << EOF
===== [U-30] Check Sendmail version              =====
=====                  Chaking...........               =====
EOF
echo "--------------------------------------------------------------------------" >> $target
echo "                        U-30 Sendmail ë²„ì „ ì ê²€               " >> $target
echo "--------------------------------------------------------------------------" >> $target
echo "++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++" >> $target
echo "+ì ê²€ëª©ì  : Sendmail ì„œë¹„ìŠ¤ ì‚¬ìš© ëª©ì  ê²€í†  ë° ì·¨ì•½ì ì´ ì—†ëŠ” ë²„ì „ì˜ ì‚¬ìš© ìœ ë¬´ ì ê²€ìœ¼ë¡œ ìµœì í™”ëœ Sendmail ì„œë¹„ìŠ¤ì˜ ìš´ì˜" >> $target
echo "+ë³´ì•ˆìœ„í˜‘ : ì·¨ì•½ì ì´ ë°œê²¬ëœ Sendmail ë²„ì „ì˜ ê²½ìš° ë²„í¼ ì˜¤ë²„í”Œë¡œìš°(Buffer Overflow) ê³µê²©ì— ì˜í•œ ì‹œìŠ¤í…œ ê¶Œí•œ íšë“ ë° ì£¼ìš” ì •ë³´ ìš”ì¶œ ê°€ëŠ¥ì„±ì´ ìžˆìŒ" >> $target
echo "+íŒë‹¨ê¸°ì¤€ ì–‘í˜¸ ðŸ”˜: Sendmail ë²„ì „ì´ ìµœì‹ ë²„ì „ì¸ ê²½ìš°" >> $target
echo "+íŒë‹¨ê¸°ì¤€ ì·¨ì•½ ðŸš«: Sendmail ë²„ì „ì´ ìµœì‹ ë²„ì „ì´ ì•„ë‹Œ ê²½ìš°" >> $target
echo "++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++" >> $target
echo "" >> $target
u30=0
u30_sendmail_ver=$(sendmail -d0.1 -t < /dev/null | grep -i "version" | awk '{print $2}')
#apt-cache show sendmail | grep Version  :  Debian ì—ì„œ ìµœì‹ ë²„ì „í™•ì¸
#yum info sendmail | grep Version  :  Red Had ê³„ì—´ì—ì„œ ìµœì‹ ë²„ì „ í™•ì¸
u30_sendmail_latest=$(yum info sendmail | grep -i Version | awk '{print $3}')
u30_Service_Management=0
u30_safe_check=0

check_service_status "${u30_ports}" "${u30_service[@]}"
if [[ $? -eq 1 ]]; then
    echo "sendmail ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  ìžˆìŠµë‹ˆë‹¤." >> $target
    if [[ "$u30_sendmail_ver" == "$u30_sendmail_latest" ]]; then
        echo "í˜„ìž¬ ì‹¤í–‰ì¤‘ì¸ ì„œë¹„ìŠ¤ê°€ ìµœì‹ ë²„ì „ê³¼ ë™ì¼í•©ë‹ˆë‹¤." >> $target
        echo "í˜„ìž¬ ì„¤ì¹˜ë˜ì–´ ìžˆëŠ” sendmail ì„œë¹„ìŠ¤ ë²„ì „ : $u30_sendmail_ver" >> $target
        echo "ìµœì‹  sendmail ì„œë¹„ìŠ¤ ë²„ì „ : $u30_sendmail_latest" >> $target
    else
        echo "í˜„ìž¬ ì„¤ì¹˜ë˜ì–´ ìžˆëŠ” sendmail ì„œë¹„ìŠ¤ì˜ ë²„ì „ì´ ìµœì‹ ë²„ì „ê³¼ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." >> $target
        echo "í˜„ìž¬ ì„¤ì¹˜ë˜ì–´ ìžˆëŠ” sendmail ì„œë¹„ìŠ¤ ë²„ì „ : $u30_sendmail_ver" >> $target
        echo "ìµœì‹  sendmail ì„œë¹„ìŠ¤ ë²„ì „ : $u30_sendmail_latest" >> $target
        u30_safe_check=$((u30_safe_check+1))
    fi
else
    echo "sendmail ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  ìžˆì§€ ì•ŠìŠµë‹ˆë‹¤." >> $target
    if [[ "$u30_sendmail_ver" == "$u30_sendmail_latest" ]]; then
        echo "í˜„ìž¬ ì‹¤í–‰ì¤‘ì¸ ì„œë¹„ìŠ¤ê°€ ìµœì‹ ë²„ì „ê³¼ ë™ì¼í•©ë‹ˆë‹¤." >> $target
        echo "í˜„ìž¬ ì„¤ì¹˜ë˜ì–´ ìžˆëŠ” sendmail ì„œë¹„ìŠ¤ ë²„ì „ : $u30_sendmail_ver" >> $target
        echo "ìµœì‹  sendmail ì„œë¹„ìŠ¤ ë²„ì „ : $u30_sendmail_latest" >> $target
    else
        echo "í˜„ìž¬ ì„¤ì¹˜ë˜ì–´ ìžˆëŠ” sendmail ì„œë¹„ìŠ¤ì˜ ë²„ì „ì´ ìµœì‹ ë²„ì „ê³¼ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." >> $target
        echo "í˜„ìž¬ ì„¤ì¹˜ë˜ì–´ ìžˆëŠ” sendmail ì„œë¹„ìŠ¤ ë²„ì „ : $u30_sendmail_ver" >> $target
        echo "ìµœì‹  sendmail ì„œë¹„ìŠ¤ ë²„ì „ : $u30_sendmail_latest" >> $target
        u30_safe_check=$((u30_safe_check+1))
    fi
fi

if [[ $u30_safe_check -ge 1 ]];then
    u30=$((u30+1))
    echo "ì ê²€ ê²°ê³¼ : ì·¨ì•½" >> $result
else
    echo "ì ê²€ ê²°ê³¼ : ì–‘í˜¸" >> $result
fi
if [[ $u30 -ge 1 ]];then
    High=$((High+1))
    Service_Management=$((Service_Management+1))
    u30_Service_Management=1
fi