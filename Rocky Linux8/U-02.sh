cat << EOF
===== [U-02] Weak password complexity settings          =====
=====                  Chaking...........               =====
EOF
echo "--------------------------------------------------------------------------" >> $target
echo "                        U-02 [ìœ„í—˜ë„ ìƒ] íŒ¨ìŠ¤ì›Œë“œ ë³µìž¡ì„± ì„¤ì • ë¯¸í¡ ì ê²€                        " >> $target
echo "--------------------------------------------------------------------------" >> $target
echo "++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++" >> $target
echo "ì ê²€ëª©ì  : íŒ¨ìŠ¤ì›Œë“œ ë³µìž¡ì„± ê´€ë ¨ ì •ì±…ì´ ì„¤ì •ë˜ì–´ ìžˆëŠ”ì§€ ì ê²€í•˜ì—¬ ë¹„ì¸ê°€ìžì˜ ê³µê²©(ë¬´ìž‘ìœ„ ëŒ€ìž… ê³µê²©, ì‚¬ì „ ëŒ€ìž… ê³µê²© ë“±)ì— ëŒ€ë¹„ê°€ ë˜ì–´ ìžˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•¨" >> $target
echo "ë³´ì•ˆìœ„í˜‘ : ë³µìž¡ì„± ì„¤ì •ì´ ë˜ì–´ìžˆì§€ ì•Šì€ íŒ¨ìŠ¤ì›Œë“œëŠ” ì‚¬íšŒê³µí•™ì ì¸ ìœ ì¶”ê°€ ê°€ëŠ¥ í•  ìˆ˜ ìžˆìœ¼ë©° ì•”í˜¸í™”ëœ íŒ¨ìŠ¤ì›Œë“œ í•´ì‹œê°’ì„ ë¬´ìž‘ìœ„ ëŒ€ìž…ê³µê²©, ì‚¬ì „ëŒ€ìž… ê³µê²© ë“±ìœ¼ë¡œ ë‹¨ì‹œê°„ì— íŒ¨ìŠ¤ì›Œë“œ í¬ë ‰ì´ ê°€ëŠ¥í•¨" >> $target
echo "+íŒë‹¨ê¸°ì¤€ ì–‘í˜¸ ðŸ”˜: íŒ¨ìŠ¤ì›Œë“œ ìµœì†Œê¸¸ì´ 8ìžë¦¬ ì´ìƒ, ì˜ë¬¸Â·ìˆ«ìžÂ·íŠ¹ìˆ˜ë¬¸ìž ìµœì†Œ ìž…ë ¥ ê¸°ëŠ¥ì´ ì„¤ì •ëœ ê²½ìš°" >> $target
echo "+íŒë‹¨ê¸°ì¤€ ì·¨ì•½ ðŸš«: íŒ¨ìŠ¤ì›Œë“œ ìµœì†Œê¸¸ì´ 8ìžë¦¬ ì´ìƒ, ì˜ë¬¸Â·ìˆ«ìžÂ·íŠ¹ìˆ˜ë¬¸ìž ìµœì†Œ ìž…ë ¥ ê¸°ëŠ¥ì´ ì„¤ì •ëœ ê²½ìš°" >> $target
echo "++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++" >> $target
echo "" >> $target
echo "-------------" >> $result
echo "U-2 ì ê²€ ê²°ê³¼" >> $result
u2=0
u2_safe_check=0
u2_Account_Management=0
echo '' >> $target
echo "/etc/login.defs íŒŒì¼ ì ê²€" >> $target
if [ -e "/etc/login.defs" ]; then
    defs_check_values=("PASS_MAX_DAYS" "PASS_REUSE_DAYS" "PASS_MIN_DAYS" "PASS_WARN_AGE" "PASS_MIN_LEN")

    for defs_check_value in "${defs_check_values[@]}"; do
        # ì„¤ì •ê°’ ê°€ì ¸ì˜¤ê¸°
        defs_value=$(grep -iE "^\s*$defs_check_value" /etc/login.defs | tr -d ' ' | grep -v '^#' | awk '{print $2}')

        if grep -iqE "^#.*$defs_check_value[[:space:]]*([0-9]{1,4})?$" /etc/login.defs; then
            echo "$defs_check_value ì„¤ì •ì´ ì£¼ì„ì²˜ë¦¬ ë˜ì–´ ë¹„í™œì„±í™” ë˜ì–´ìžˆìŠµë‹ˆë‹¤." >> $target
            u2_safe_check=$((u2_safe_check+1))
            u2_Account_Management=$((u2_Account_Management+1))
        else
            case "$defs_check_value" in
                "PASS_MAX_DAYS")
                    if grep -q "$defs_check_value" /etc/login.defs; then
                    	if [[ $defs_value -gt 90 ]]; then 
                        	echo "$defs_check_value ì˜ ë³´ì•ˆê¶Œê³  ì„¤ì • ê°’ì¸ 90 ë³´ë‹¤ í¬ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤. | í˜„ìž¬ ì„¤ì •ëœ ê°’ $defs_value" >> $target
                            u2_safe_check=$((u2_safe_check+1))
                            u2_Account_Management=$((u2_Account_Management+1))
                    	else
                        	echo "$defs_check_value ì˜ ì„¤ì •ê°’ì´ ì ì ˆí•˜ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
                    	fi
                    else
                    	echo "$defs_check_value ì„¤ì •ê°’ì´ ì¡´ìž¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."  >> $target
                    fi
                    ;;
                "PASS_REUSE_DAYS")               
                    if grep -q "$defs_check_value" /etc/login.defs; then
                    	if [[ $defs_value -gt 4 ]]; then 
                        	echo "$defs_check_value ì˜ ë³´ì•ˆê¶Œê³  ì„¤ì • ê°’ì¸ 4 ë³´ë‹¤ í¬ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤. | í˜„ìž¬ ì„¤ì •ëœ ê°’ $defs_value" >> $target
                            u2_safe_check=$((u2_safe_check+1))
                            u2_Account_Management=$((u2_Account_Management+1))
                    	else
                        	echo "$defs_check_value ì˜ ì„¤ì •ê°’ì´ ì ì ˆí•˜ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
                    	fi
                    else
                    	echo "$defs_check_value ì„¤ì •ê°’ì´ ì¡´ìž¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." >> $target
                    fi
                    ;;
                "PASS_MIN_DAYS"|"PASS_WARN_AGE")
                    if grep -q "$defs_check_value" /etc/login.defs; then
                    	if [[ $defs_value -gt 7 ]]; then 
                        	echo "$defs_check_value ì˜ ë³´ì•ˆê¶Œê³  ì„¤ì • ê°’ì¸ 7 ë³´ë‹¤ í¬ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤. | í˜„ìž¬ ì„¤ì •ëœ ê°’ $defs_value" >> $target
                            u2_safe_check=$((u2_safe_check+1))
                            u2_Account_Management=$((u2_Account_Management+1))
                    	else
                        	echo "$defs_check_value ì˜ ì„¤ì •ê°’ì´ ì ì ˆí•˜ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
                    	fi
                    else
                    	echo "$defs_check_value ì„¤ì •ê°’ì´ ì¡´ìž¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." >> $target
                    fi
                    ;;
                "PASS_MIN_LEN")
                    if grep -q "$defs_check_value" /etc/login.defs; then
                    	if [[ $defs_value -gt 8 ]]; then 
                        	echo "$defs_check_value ì˜ ë³´ì•ˆê¶Œê³  ì„¤ì • ê°’ì¸ 8 ë³´ë‹¤ í¬ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤. | í˜„ìž¬ ì„¤ì •ëœ ê°’ $defs_value" >> $target
                            u2_safe_check=$((u2_safe_check+1))
                            u2_Account_Management=$((u2_Account_Management+1))
                    	else
                        	echo "$defs_check_value ì˜ ì„¤ì •ê°’ì´ ì ì ˆí•˜ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
                    	fi
                    else
                    	echo "$defs_check_value ì„¤ì •ê°’ì´ ì¡´ìž¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." >> $target
                    fi
                    ;;
                *)
                    echo "í•´ë‹¹ ì„¤ì •ê°’ì´ ì¡´ìž¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.: $defs_check_value" >> $target
                    ;;
            esac
        fi
    done
else
    echo "/etc/login.defs íŒŒì¼ì´ ì¡´ìž¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." >> $target
fi
echo "" >> $target
echo "/etc/security/pwquality.conf íŒŒì¼ ì ê²€" >> $target
if [ -e "/etc/security/pwquality.conf" ]; then
    pwquality_check_values=("minlen" "dcredit" "ucredit" "ocredit" "lcredit" "minclass" "retry")
    for pwquality_check_value in "${pwquality_check_values[@]}"; do
        pwquality_value=$(grep "^\s*$pwquality_check_value" /etc/security/pwquality.conf | tr -d ' ' | awk -F= '{print $2}')
        
        pwquality_Annotations=$(grep "^\s*#.*$pwquality_check_value" /etc/security/pwquality.conf)

	if [[ -n $pwquality_Annotations ]]; then
	    echo "$pwquality_check_value ê°’ì€ ì£¼ì„ì²˜ë¦¬ ë˜ì–´ ë¹„í™œì„±í™” ë˜ì–´ìžˆìŠµë‹ˆë‹¤." >> $target
        u2_safe_check=$((u2_safe_check+1))
        u2_Account_Management=$((u2_Account_Management+1))
        else
	    if [[ -n $pwquality_value ]]; then
	        case "$pwquality_check_value" in
	            "minlen")
                    if [[ $pwquality_value -lt 8 ]]; then
                        echo "$pwquality_check_value ì˜ ë³´ì•ˆê¶Œê³  ì„¤ì • ê°’ì¸ 8 ë³´ë‹¤ ìž‘ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤. | í˜„ìž¬ ì„¤ì •ëœ ê°’ $pwquality_value" >> $target
                        u2_safe_check=$((u2_safe_check+1))
                        u2_Account_Management=$((u2_Account_Management+1))
                    else
                        echo "$pwquality_check_value ì˜ ì„¤ì •ê°’ì´ ì ì ˆí•˜ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
                    fi
                    ;;
	            "dcredit"|"ucredit"|"ocredit"|"lcredit")
                    if [[ $pwquality_value -lt 1 ]]; then
                        echo "$pwquality_check_value ì˜ ë³´ì•ˆê¶Œê³  ì„¤ì • ê°’ì¸ 1 ë³´ë‹¤ ìž‘ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤. | í˜„ìž¬ ì„¤ì •ëœ ê°’ $pwquality_value" >> $target
                        u2_safe_check=$((u2_safe_check+1))
                        u2_Account_Management=$((u2_Account_Management+1))
                    else
                        echo "$pwquality_check_value ì˜ ì„¤ì •ê°’ì´ ì ì ˆí•˜ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
                    fi
                    ;;
		    "minclass")
		        if [[ $pwquality_value -lt 3 ]]; then
                    echo "$pwquality_check_value ì˜ ë³´ì•ˆê¶Œê³  ì„¤ì • ê°’ì¸ 3 ë³´ë‹¤ ìž‘ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤. | í˜„ìž¬ ì„¤ì •ëœ ê°’ $pwquality_value" >> $target
                    u2_safe_check=$((u2_safe_check+1))
                    u2_Account_Management=$((u2_Account_Management+1))
		        else
			        echo "$pwquality_check_value ì˜ ì„¤ì •ê°’ì´ ì ì ˆí•˜ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
		        fi
			;;
		    "retry")
		        if [[ $pwquality_value -gt 3 ]]; then
                    echo "$pwquality_check_value ì˜ ë³´ì•ˆê¶Œê³  ì„¤ì • ê°’ì¸ 3 ë³´ë‹¤ í¬ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤. | í˜„ìž¬ ì„¤ì • ê°’ : $pwquality_value" >> $target
                    u2_safe_check=$((u2_safe_check+1))
                    u2_Account_Management=$((u2_Account_Management+1))
		        else
			        echo "$pwquality_check_value ì˜ ì„¤ì •ê°’ì´ ì ì ˆí•˜ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
			fi
		        ;;
	        *)
	        esac
	    else
            echo "í•´ë‹¹ ì˜µì…˜ì€ ê°’ì´ ì„¤ì •ë˜ì–´ ìžˆì§€ ì•ŠìŠµë‹ˆë‹¤.: $pwquality_check_value" >> $target
            u2=$((u2+1))
            u2_safe_check=$((u2_safe_check+1))
            u2_Account_Management=$((u2_Account_Management+1))
	    fi
	fi
    done
fi	

echo "" >> $target
pam_files=("/etc/pam.d/system-auth" "/etc/pam.d/password-auth")
for pam_file in "${pam_files[@]}";do
    echo "" >> $target
    echo "$pam_file íŒŒì¼ ì ê²€" >> $target
    if [ -e "$pam_file" ]; then
        pam_module_check=("pam_cracklib.so" "pam_pwquality.so" "pam_unix.so")
        pam_check=("minlen" "ucredit" "lcredit" "dcredit" "ocredit" "difok" "retry")
        modules_found=0
    
        for pam_module in "${pam_module_check[@]}"; do
            # ëª¨ë“ˆì´ ì¡´ìž¬í•˜ëŠ”ì§€ í™•ì¸
            if grep -qE "^\s*password\s+.*$pam_module" "$pam_file"; then
                modules_found=$((modules_found + 1))
                # ì„¤ì •ì´ ì¡´ìž¬í•˜ëŠ” ê²½ìš°ì—ë§Œ ê²€ì¦ ë° ì£¼ì„ ê²€ì¦
                if grep -qiE "^\s*#.*password\s+.*$pam_module" "$pam_file"; then
                    echo "íŒ¨ìŠ¤ì›Œë“œ ë³µìž¡ì„± ì„¤ì •($pam_module)ì´ ì£¼ì„ì²˜ë¦¬ ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
                    u2_safe_check=$((u2_safe_check+1))
                    u2_Account_Management=$((u2_Account_Management+1))
                elif [ "$pam_module" == "pam_unix.so" ]; then
                    if grep -iE "^\s*#.*password\s+.*$pam_module" "$pam_file" | awk '{print $1}' | grep -Eo "^#"; then
                        echo "íŒ¨ìŠ¤ì›Œë“œ ë³µìž¡ì„± ì„¤ì •($pam_module)ì´ ì£¼ì„ì²˜ë¦¬ ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
                        u2_safe_check=$((u2_safe_check+1))
                        u2_Account_Management=$((u2_Account_Management+1))
                    else grep -qiE "^\s*password\s+.*$pam_module" "$pam_file"; 
                        echo "$pam_file íŒŒì¼ì´ ì¡´ìž¬í•˜ë©°, íŒ¨ìŠ¤ì›Œë“œ ë³µìž¡ë„ ì„¤ì •($pam_module)ì´ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
                        #ê²€ì¦ë¡œì§ ì„¤ì • í•˜ê¸°
                        pam_check_value2=$(cat $pam_file | grep -iE "^\s*password\s+.*$pam_module" | sed "s/.*$pam_module\s*//")
                        echo "í˜„ìž¬ $pam_module ëª¨ë“ˆì— ì ìš©ëœ ì„¤ì •ê°’ì€ ì•„ëž˜ì™€ ê°™ìŠµë‹ˆë‹¤." >> $target
                        echo "$pam_check_value2" | sed 's/\s\+/\n/g' | while read -r pam_field; do
                            echo "$pam_field" >> $target
                            done

                        corrent_control_keyworld=$( grep -iE "^\s*password\s+.*$pam_module" "$pam_file" | awk '{print $2}')
                        if [[ $corrent_control_keyworld == "sufficient" ]]; then
                            echo "$pam_module ëª¨ë“ˆì˜ ì œì–´ í‚¤ì›Œë“œë¡œ $corrent_control_keyworld ë¡œ ì ì ˆí•˜ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
                        else
                            echo "$pam_module ëª¨ë“ˆì˜ ì œì–´ í‚¤ì›Œë“œë¡œ $corrent_control_keyworld ë¡œ ë¶€ì ì ˆí•˜ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
                            u2_safe_check=$((u2_safe_check+1))
                            u2_Account_Management=$((u2_Account_Management+1))
                        fi
                    fi
                else
                    if grep -qE "^\s*password\s+.*$pam_module" $pam_file; then
                        echo "$pam_file íŒŒì¼ì´ ì¡´ìž¬í•˜ë©°, íŒ¨ìŠ¤ì›Œë“œ ë³µìž¡ë„ ì„¤ì •($pam_module)ì´ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> "$target"
                        for pam_value in "${pam_check[@]}"; do
                            # ì„¤ì • ê°’ í™•ì¸
                            pam_check_value=$(grep "$pam_module" $pam_file | grep -o "$pam_value=[^ ]*" | tr -d ' ' | awk -F= '{print $2}')
                            
                            # ì„¤ì • ê°’ì´ ì¡´ìž¬í•˜ëŠ” ê²½ìš°ì—ë§Œ ì¶œë ¥
                            if [[ -n "$pam_check_value" ]]; then
                                case "$pam_value" in	
                                    "minlen")
                                        if [[ $pam_check_value -lt 8 ]]; then
                                            echo "$pam_value ì˜ ë³´ì•ˆ ê¶Œê³  ì„¤ì • ê°’ì¸ 8 ë³´ë‹¤ ìž‘ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤. | í˜„ìž¬ ì„¤ì • ê°’ : $pam_check_value" >> $target
                                            u2_safe_check=$((u2_safe_check+1))
                                            u2_Account_Management=$((u2_Account_Management+1))
                                        else
                                            echo "$pam_value ì˜ ì„¤ì •ê°’ì´ ì ì ˆí•˜ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
                                        fi
                                        ;;
                                    "ucredit"|"lcredit"|"dcredit"|"ocredit"|"difok")
                                        if [[ $pam_check_value -lt 1 ]]; then
                                            echo "$pam_value ì˜ ë³´ì•ˆ ê¶Œê³  ì„¤ì • ê°’ì¸ 1 ë³´ë‹¤ ìž‘ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤. | í˜„ìž¬ ì„¤ì • ê°’ : $pam_check_value" >> $target
                                            u2_safe_check=$((u2_safe_check+1))
                                            u2_Account_Management=$((u2_Account_Management+1))
                                        else
                                            echo "$pam_value ì˜ ì„¤ì •ê°’ì´ ì ì ˆí•˜ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
                                        fi 
                                        ;;
                                    "retry")
                                        if [[ $pam_check_value -gt 3 ]]; then
                                            echo "$pam_value ì˜ ë³´ì•ˆ ê¶Œê³  ì„¤ì • ê°’ì¸ 3 ë³´ë‹¤ í¬ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤. | í˜„ìž¬ ì„¤ì • ê°’ : $pam_check_value" >> $target
                                            u2_safe_check=$((u2_safe_check+1))
                                            u2_Account_Management=$((u2_Account_Management+1))
                                        else
                                            echo "$pam_value ì˜ ì„¤ì •ê°’ì´ ì ì ˆí•˜ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
                                        fi
                                        ;;
                                    *)
                                        echo "ì•Œ ìˆ˜ ì—†ëŠ” ì„¤ì • ê°’: $pam_value" >> $target
                                        ;;
                                esac
                            else
                                echo "$pam_value ì„¤ì •ì´ ì¡´ìž¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." >> $target
                                u2_safe_check=$((u2_safe_check+1))
                                u2_Account_Management=$((u2_Account_Management+1))
                            fi
                        done
                        if [[ "$pam_module" == "pam_pwquality.so" || "$pam_module" == "pam_cracklib.so" ]]; then
                            corrent_control_keyworld=$( grep -iE "^\s*password\s+.*$pam_module" "$pam_file" | awk '{print $2}')
                            if [[ $corrent_control_keyworld == "requisite" ]]; then
                                echo "$pam_module ëª¨ë“ˆì˜ ì œì–´ í‚¤ì›Œë“œë¡œ $corrent_control_keyworld ë¡œ ì ì ˆí•˜ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
                            else
                                echo "$pam_module ëª¨ë“ˆì˜ ì œì–´ í‚¤ì›Œë“œë¡œ $corrent_control_keyworld ë¡œ ë¶€ì ì ˆí•˜ê²Œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
                                u2_safe_check=$((u2_safe_check+1))
                                u2_Account_Management=$((u2_Account_Management+1))
                            fi
                        fi
                    else
                        echo "$pam_file íŒŒì¼ì´ ì¡´ìž¬í•˜ë©°, íŒ¨ìŠ¤ì›Œë“œ ë³µìž¡ì„± ì„¤ì •ì´($pam_module)ì´ ì¡´ìž¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." >> $target
                        u2_safe_check=$((u2_safe_check+1))
                        u2_Account_Management=$((u2_Account_Management+1))
                    fi
                fi
            else
                echo "$pam_file íŒŒì¼ì´ ì¡´ìž¬í•˜ë©°, íŒ¨ìŠ¤ì›Œë“œ ë³µìž¡ì„± ì„¤ì •ì´($pam_module)ì´ ì¡´ìž¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." >> $target
                u2_safe_check=$((u2_safe_check+1))
                u2_Account_Management=$((u2_Account_Management+1))
            fi
        done
        
    #  ëª¨ë“ˆ ëª¨ë‘ ë°œê²¬ë˜ì§€ ì•Šì•˜ì„ ê²½ìš°
    if [[ $modules_found -eq 0 ]]; then
        echo "$pam_file íŒŒì¼ì´ ì¡´ìž¬í•˜ì§€ë§Œ, íŒ¨ìŠ¤ì›Œë“œ ë³µìž¡ì„± ì„¤ì • ê´€ë ¨ ëª¨ë“ˆì´ ì¡´ìž¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." >> $target
        u2_safe_check=$((u2_safe_check+1))
        u2_Account_Management=$((u2_Account_Management+1))
    fi
else
    echo "$pam_file íŒŒì¼ì´ ì¡´ìž¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." >> "$target"
fi
done

if [ $u2_safe_check -ge 1 ];then
    u2=$((u2+1))
    echo "ì ê²€ ê²°ê³¼ : ì·¨ì•½" >> $result
else
    echo "ì ê²€ ê²°ê³¼ : ì–‘í˜¸" >> $result
fi
if [[ $u2 -ge 1 ]];then
    High=$((High+1))
    Account_Management=$((Account_Management+1))
    u2_Account_Management=1
fi