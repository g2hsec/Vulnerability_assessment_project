# Vulnerability_assessment_project
리눅스 계열 시스템 취약점 진단 자동화 솔루션 
> 2024.07.04 ~<br>
> ※ sudo 권한으로 실행 해야하며, tree 및 jq 패키지 설치 필요 ※
<div class="notice--primary" markdown="1">
 Ubuntu 8, CentOS 7, Locky Linux8 의 3가지 시스템에 호환됩니다.
</div>

# 프로젝트 개요

```
현재까지 지속되는 보안 위협의 증가와 진화는 계속해서 이루어지고 있다. IT 기술은 끊임 없이 발전하며,
이를 따라서 사이버 공격 기술 또한 시간이 지남에 따라 더욱 정교하고 다양해지고 있다.또한, 아직 알려지지 않거나,
패치되지 않은 0-DAY 취약점이 존재하며, 이러한 취약점 및 서버의 설정 미흡을호 인한 피해를 감소하기 위해 지속적인 취약점 진단이 필요하다.

한번의 실수로 인해 발생하는 사이버 피해는 경제적 손실과 사회적 혼란을 초래하며, 데이터 손시링나 변조는 비즈니스 신뢰도에 큰 타격을 주게된다.
주기적인 취약점 진단은 공격 당하기 전에 데이터를 보호하고 시스템의 안전성을 유지하는 중요한 역할이며, 금융, 의료, 공공기관 등 특정 산업에서는 보안 규정 준수가 법적으로 요구되고 있다.
또한 많은 조직은 보안 감사를 통해 외부로부터의 평가를 받아야한다. 이러한 각각의 문제점을을 파악하여 주기적인 취약점 진단을 수동으로 진단하기에는 무리가 있으며,
진단 요청 클라이언트에게 보다 이해하기 쉽도록 대시보드를 통해 시각화 하면 효율적일거라 생각하여 대시보드를 통한 리눅스 계열에서의 시스템 취약점 진단 자동화 솔루션을 제작하였습니다.
```

# 목표
## 1. Ubuntu 8

```
Ubuntu의 경우 사용하기 쉬운 인터페이스와 광범위한 커뮤니티 지원을 하며, 안정성과 보안 업데이트가 꾸준히 된다.
이러한 이유로 서버 관리가 단순화되어 기업에서 인프라를 유지하는데 도움이되어 규모가 작은 스타트업, 
중소기업에서는 Ubuntu 를 서버로 사용하고 있어 선택하였습니다.
```

## 2. CentOS 7

```
기존의 많은 레거시 시스템은 CentOS 7을 서버로 사용하고 있으며, Red Had Enterprise Linux와 호환성이 매우 높아 RHEL 기반의
엔터프라이즈급 안전성과 보안 기능을 그대로 이용할 수 있어 많은 기업들이 안정적인 서버 환경을 위해 사용하고 있으며,
특히 금융, 통신, 제조업등에서 많이 사용되어 선택하였습니다.
```

## 3. Rocky Linux 8

```
CentOS 7,8의 지원 종료 이후 대안으로 Rocky Linux가 등장하였으며, RHEL과 완벽하게 호환되며,
CentOS를 사용하던 많은 기업들이 안정적으로 전환할 수 있도록 지원하여 현재 많은 기업들이 Rocky Linux로 전환하고 있으며,
기업환경에서 필요한 LTS와 보안 업데이트를 지원하며, 완전한 오픈 소스, 커뮤니티 중심으로 개발이 이루어지며,
금융, 의료, 공공기관가 같은 분야에서 사용되고 있어 선택하였습니다.

이러한 이유들로 3개의 리눅스 계열의 시스템을 진단하도록 스크립트를 작성하였으며, 각각의 위험도를 나눠 High, Mid, Low 단계로 나눠
점검결과 및 상세정보, 계정관리, 파일 및 디렉터리 관리, 서비스 관리, 패치 관리, 로그관리와 같이 특정 점검 분야에 대해서도
진단 결과를 도출하여 대시보드를 통해 표와 차트를 이용하여 진단 요청 클라이언트에게 시각화된 진단 결과를 전달 함으로써,
좀 더 진단 결과를 빠르게 파악할 수 있도록 제작하였습니다.
```

# 기술 스택

```
<div class="notice">
  1. Shell Script<br>
  2. HTML, CSS, JS<br>
  3. Node JS<br>
  4. Mongo DB
</div>
```

# 프로젝트 구조

```
각각의 시스템에 해당되는 스크립트를 해당 서버에서 실행시 진단 결과를 담은 값들이 자동으로 웹 서버로 전송되며,
해당 값들은 Mongo DB에 저장되어, 차트, 표를 통해 클라이언트에게 시각적으로 전달됩니다.
해당 저장된 내용은 삭제 버튼을 통해 Data Base에서 즉시 삭제되므로, 귀사의 시스템 정보는 진단 일시를 제외한 어떠한 순간에도 저장하지 않습니다.
```

# 프로젝트중 에로사항 및 문제 해결
### 1. 각 배포판별 상이한 명령어, 파일 경로

```
각각의 배포판별로 조금씩 상이한 명령어와 파일 경로가 존재하여, 이를 찾아가며, 존재 여부 및 기본 설정값을 확인하여 스크립트 제작
```

### 2. 파일 내에 주석, 공백, 대/소문자로 인한 파일 내 출력값 경우의 수

```
스크립트 제작 후 여러 경우의 수를 대입하며, 지속적인 스크립트를 수정함.
주석, 공백, 대/소문자로 인해 확인해야하는 설정값들이 정상적으로 추출되지 않아 여러 경우의수를 대입하며 수정해나감
```

### 3. 웹 서버로 전송되는 리턴 값

```
진단 후 각각의 경우의 진단 결과가 웹 서버로 전달되어 Mongo DB에 저장되어야 하므로,
각 진단 항목에 대한 리턴값을 수정하여 웹 페이지에 렌더링 할 수 있었음
```

### 4. 중복 변수 사용으로 인한 에러

```
수많은 항목을 하나의 스크립트로 작성하다 보니, 중복된 값들이 존재, 이를 해결하기 위해 각 항목 코드를 변수 앞에 생성하여 해결함
```

# 성과 및 결과

```
주요정보통신기반 시설 취약점진단의 72가지 항목에 대해 진단한 결과가 웹 대시보드에서 표와 차트를 통해 시각적으로 표현되어,
진단 요청 클라이언트에게 보다 쉽게 설명이 가능하게 됨.

단순 진단 후 클라이언트에게 전달할 때 요청 클라이언트는 보안에 대한 지식이 그닥 많지 않을 경우가 있다.
이 때 어떤 항목에서 어떤 취약점이 발견됐고 왜 위험하고, 어떤 값들이 어떻게 설정되어 있다를 단순 말과 스크립트의 결과로
 전달하는것은 전달에 한계가 있다고 생각하여시각적으로 표현하고자 진행한 프로젝트가 많은 시행착오가 있었지만,
해당 프로젝트를 진행하며, 클라이언트 입장에서 이해하기 어떤 부분을 수정해야하고 어떤 부분이 서버에 피해가 가는지 조금이나마 이해할 수 있을거래 생각됐다.
 또한 해당 스크립트 제작시 평소 사용하지 않던 명령어와, 그에 해당하는 옵션들에 대한 사용법을 익히게 되어 만족스러운 프로젝트였다.
```

# 추후 계획 및 개선 사항

```
더 많은 배포판과 클라우드, 윈도우, 네트워크 장비에 대한 자동화된 취약점 진단 스크립트와, 원격 진단 스크립트를 제작할 예정입니다.
```

# 결론

# 시연 및 데모


<div class="notice--primary" markdown="1">
 © 2024 이규혁(Lee GyuHyeok) All rights reserved.<br>
  해당 프로젝트에서 사용된 코드는 상업적인 이유를 제외하고 사용이 가능하며, 사용시 해당 코드의 출처를 명시하여야 합니다.
  해당 코드는 악용을 금하고 있으며, 해당 코드를 악용하여 발생하는 모든 책임은 본인에게 있습니다.
</div>


