cat << EOF
===== [U-62] restricting tp account shell              =====
=====                  Chaking...........               =====
EOF
echo "--------------------------------------------------------------------------" >> $target
echo "                        U-62 tp ê³„ì • shell ì œí•œ             " >> $target
echo "--------------------------------------------------------------------------"  >> $target
echo "++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++" >> $target
echo "ì ê²€ëª©ì  : FTP ì„œë¹„ìŠ¤ ì„¤ì¹˜ ì‹œ ê¸°ë³¸ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ftp ê³„ì •ì€ ë¡œê·¸ì¸ì´ í•„ìš”í•˜ì§€ ì•Šì€ ê³„ì •ìœ¼ë¡œ ì‰˜ì„ ì œí•œí•˜ì—¬ í•´ë‹¹ ê³„ì •ìœ¼ë¡œì˜ ì‹œìŠ¤í…œ ì ‘ê·¼ì„ ì°¨ë‹¨í•˜ê¸° ìœ„í•¨" >> $target
echo "ë³´ì•ˆìœ„í˜‘ :  ë¶ˆí•„ìš”í•œ ê¸°ë³¸ ê³„ì •ì— ì‰˜(Shell)ì„ ë¶€ì—¬í•  ê²½ìš°, ê³µê²©ìžì—ê²Œ í•´ë‹¹ ê³„ì •ì´ ë…¸ì¶œë˜ì–´ ftp ê¸°ë³¸ ê³„ì •ìœ¼ë¡œ ì‹œìŠ¤í…œ ì ‘ê·¼í•˜ì—¬ ê³µê²©ì´ ê°€ëŠ¥í•´" >> $target
echo "+íŒë‹¨ê¸°ì¤€ ì–‘í˜¸ ðŸ”˜: ftp ê³„ì •ì— /bin/false ì‰˜ì´ ë¶€ì—¬ë˜ì–´ ìžˆëŠ” ê²½ìš°" >> $target
echo "+íŒë‹¨ê¸°ì¤€ ì·¨ì•½ ðŸš«: ftp ê³„ì •ì— /bin/false ì‰˜ì´ ë¶€ì—¬ë˜ì–´ ìžˆì§€ ì•Šì€ ê²½ìš°" >> $target
echo "++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++" >> $target
echo "" >> $target
echo "-------------" >> $result
echo "U-62 ì ê²€ ê²°ê³¼" >> $result

u62_safe_check=0
u62_Service_Management=0
u62=0
u62_ftp_shell=$(grep -i "ftp" "/etc/passwd" | awk -F':' '{print $7}' | awk -F'/' '{print $NF}')
u62_check_safe_shells=("nologin" "false" "ftp-only")

if [ -n "$u62_ftp_shell" ];then
    echo "ftp ê³„ì •ì´ ì¡´ìž¬í•©ë‹ˆë‹¤." >> $target
    u62_check=0
    for u62_check_safe_shell in "${u62_check_safe_shells[@]}";do
        if [[ "$u62_ftp_shell" == "$u62_check_safe_shell" ]];then
            echo "ftp ê³„ì •ì˜ shell ì´ $u62_ftp_shell ë¡œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
            u62_check=$((u62_check+1))
            break
        else   
            if [ $u62_check -eq 1 ];then
                echo "ftp ê³„ì •ì˜ shell ì´ $u62_ftp_shell ë¡œ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤." >> $target
                u62_safe_check=$((u62_safe_check+1))
            fi
        fi
    done
else
    echo "ftp ê³„ì •ì´ ì¡´ìž¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." >> $target
fi

if [[ $u62_safe_check -ge 1 ]];then
    u62=$((u62+1))
    echo "ì ê²€ ê²°ê³¼ : ì·¨ì•½" >> $result
else
    echo "ì ê²€ ê²°ê³¼ : ì–‘í˜¸" >> $result
fi
if [[ $u62 -ge 1 ]];then
    Mid=$((Mid+1))
    Service_Management=$((Service_Management+1))
    u62_Service_Management=1
fi
